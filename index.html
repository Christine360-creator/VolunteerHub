<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Volunteer Hub â€“ Airdrieâ€¯1st Club</title>
<style>
:root {
  --brand-purple: #5E2978;
  --brand-yellow: #FFD400;
  --brand-white: #FFFFFF;
  --text-dark: #333333;
}

html { scroll-behavior: smooth; }
body { margin: 0; font-family: Arial, sans-serif; background-color: var(--brand-white); color: var(--text-dark); line-height: 1.5; }

header {
  text-align: center;
  padding: 20px;
  background-color: var(--brand-purple);
  color: var(--brand-white);
  position: sticky;
  top: 0;
  z-index: 1000;
}
header img { max-width: 150px; height: auto; display: block; margin: 0 auto 10px; }
header a { color: var(--brand-yellow); font-weight: bold; text-decoration: underline; display: inline-block; margin-top: 5px; }

.banner img {
  width: 100%;
  height: auto;
  display: block;
  margin-bottom: 15px;
  object-fit: cover;
}

section { padding: 15px; }

.announcements { background-color: #f5f5f5; border-left: 5px solid var(--brand-yellow); margin-bottom: 20px; text-align: center; }
.announcements h2 { color: var(--brand-purple); text-align: center; }
.announcements ul {
  list-style: none;
  padding: 0;
  margin: 0 auto;
  display: inline-block;
  text-align: left;
}
.announcements li { margin: 5px 0; }

.calendar-overview { text-align: center; }
.calendar-overview h2 { color: var(--brand-purple); }
.calendar-overview iframe { width: 100%; max-width: 800px; height: 400px; border: 0; margin-top: 10px; }

.events-table { overflow-x: auto; }
.events-table h2 { text-align: center; color: var(--brand-purple); }
.events-table input[type="text"] { margin-bottom: 10px; padding: 5px; width: 100%; max-width: 300px; display: block; margin-left: auto; margin-right: auto; }

.events-table table { width: 100%; min-width: 600px; border-collapse: collapse; font-size: 14px; }
.events-table th {
  position: sticky;
  top: 0;
  z-index: 2;
  background-color: #4b1d65;
  color: var(--brand-white);
  font-weight: bold;
  font-size: 15px;
  padding: 10px;
  text-align: left;
}
.events-table td { padding: 8px; border-bottom: 1px solid #ddd; }
.events-table tr:nth-child(even) { background-color: #f9f9f9; }
.events-table tr:hover { background-color: #ffe; }
.status-Urgent { background-color: #fff2cc; font-weight: bold; }
.events-table a { color: var(--brand-purple); text-decoration: none; font-weight: bold; }
.events-table a:hover { text-decoration: underline; }

.footer { text-align: center; padding: 15px; background-color: #f5f5f5; font-size: 12px; color: #555; }

#back-to-top {
  display: none; position: fixed; bottom: 20px; right: 20px;
  background: var(--brand-purple); color: var(--brand-white); padding: 10px; border-radius: 5px; cursor: pointer; z-index: 100;
}

@media screen and (max-width: 600px) {
  header { position: static; }
  .events-table th { font-size: 13px; padding: 8px; }
  header h1 { font-size: 24px; }
  .events-table td { font-size: 12px; }
  .calendar-overview iframe { height: 300px; }
}
</style>
</head>
<body>

<div class="banner">
  <img src="https://raw.githubusercontent.com/Christine360-creator/VolunteerHub/main/IMG_0126.PNG" alt="Volunteer Hub Banner">
</div>

<header>
  <img src="LOGO_URL_HERE" alt="Airdrieâ€¯1st Club Logo">
  <h1>Volunteer Hub</h1>
  <p>Welcome! See upcoming events and sign up for shifts here.</p>
  <a href="#events-section">Take me to Events â†“</a>
</header>

<section class="announcements">
  <h2>Announcements</h2>
  <ul>
    <li>ðŸ“¢ Volunteers needed for Saturday!</li>
    <li>ðŸ“¢ New event added for next week</li>
  </ul>
</section>

<section class="calendar-overview">
  <h2>Calendar Overview</h2>
  <iframe src="https://calendar.google.com/calendar/embed?src=volunteer%40airdrie1st.com&ctz=America%2FEdmonton" style="border: 0;" width="800" height="600" frameborder="0" scrolling="no"></iframe>
  <p style="font-size:12px; color:#555;">*Scroll horizontally on mobile to view full month/week.*</p>
</section>

<section class="events-table" id="events-section">
  <h2>Upcoming Events</h2>
  <input type="text" id="search-box" placeholder="Search events by name, location or status">
  <div id="volunteer-table-container"></div>
</section>

<footer class="footer">
  <p>Last Updated: Octâ€¯30,â€¯2025</p>
  <p>Contact: volunteerhub@airdrie1st.com</p>
  <p>Scan QR code to access page on your phone</p>
</footer>

<div id="back-to-top">â†‘ Top</div>

<!-- Include PapaParse from CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js" integrity="sha512-sC3RQpymvGfzECGUNx0b7zzq4o8/g5+/gVb+V52n0k9yn2mY1qR6oWl9jRy2f5yCgIPtAn0+j1cM6UEYV0gT3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
// Mobile-friendly Google Sheet CSV link
const eventsCSVUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRc8yold1M7kWaQDzmCu5TFndjcPiWMb5kCKR0fCRTu5uknjWE-7ctw_CcpQHcMHrDnjHAuDH4qJwHz/pub?gid=121942850&single=true&output=csv";

// Fetch and parse CSV using PapaParse
Papa.parse(eventsCSVUrl, {
  download: true,
  header: true,
  skipEmptyLines: true,
  complete: function(results) {
    const data = results.data;
    const headers = Object.keys(data[0]);
    const container = document.getElementById("volunteer-table-container");

    let html = "<table><thead><tr>";
    headers.forEach(h => html += `<th>${h}</th>`);
    html += "</tr></thead><tbody>";

    data.forEach(row => {
      const status = row["Status"]?.trim();
      const urgentClass = status === "Urgent" ? "status-Urgent" : "";
      html += `<tr class="${urgentClass}">`;
      headers.forEach(h => {
        let value = row[h] || "";
        if(value.startsWith("http")) value = `<a href="${value}" target="_blank">Sign Up</a>`;
        html += `<td>${value}</td>`;
      });
      html += "</tr>";
    });

    html += "</tbody></table>";
    container.innerHTML = html;
  }
});

// Search box
document.getElementById("search-box").addEventListener("input", function() {
  const filter = this.value.toLowerCase();
  const rows = document.querySelectorAll(".events-table tbody tr");
  rows.forEach(row => row.style.display = row.textContent.toLowerCase().includes(filter) ? "" : "none");
});

// Back-to-top
const topButton = document.getElementById("back-to-top");
window.addEventListener("scroll", () => topButton.style.display = window.scrollY > 200 ? "block" : "none");
topButton.addEventListener("click", () => window.scrollTo({ top: 0, behavior: "smooth" }));
</script>

</body>
</html>


